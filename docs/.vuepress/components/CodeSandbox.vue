<template>  <div class="p-4 border rounded-lg shadow-lg">    <!-- Tabs -->    <div class="flex mb-4">      <div          class="tab flex-1 py-2 text-center cursor-pointer rounded-t-lg"          :class="{ 'bg-gray-200': isPreviewActive, 'bg-gray-100': !isPreviewActive }"          @click="switchTab('preview')"      >        Preview      </div>      <div          class="tab flex-1 py-2 text-center cursor-pointer rounded-t-lg"          :class="{ 'bg-gray-200': !isPreviewActive, 'bg-gray-100': isPreviewActive }"          @click="switchTab('code')"      >        Code      </div>    </div>    <!-- Preview Tab -->    <div v-show="isPreviewActive" class="relative">      <iframe ref="preview" class="w-full h-64 border border-gray-300 rounded-lg"></iframe>      <div class="absolute top-2 right-2">        <button @click="copyCode" class="px-4 py-2 bg-green-500 text-white rounded-lg">Copy</button>      </div>    </div>    <!-- Code Tab -->    <div v-show="!isPreviewActive">      <pre class="whitespace-pre-wrap bg-gray-100 p-4 rounded-lg border border-gray-300">{{ formattedCode }}</pre>      <button @click="copyCode" class="mt-2 px-4 py-2 bg-green-500 text-white rounded-lg">Copy</button>    </div>  </div></template><script>export default {  data() {    return {      isPreviewActive: true,      slotContent: ''    };  },  computed: {    formattedCode() {      // Ensure slotContent is defined and a string before calling trim      return (this.slotContent && typeof this.slotContent === 'string') ? this.slotContent.trim() : '';    }  },  methods: {    switchTab(tab) {      this.isPreviewActive = (tab === 'preview');      if (this.isPreviewActive) {        this.updatePreview();      }    },    updatePreview() {      const html = this.slotContent;      if (!html) {        console.error('Slot content is empty');        return;      }      const fullContent = `        <!DOCTYPE html>        <html lang="en">        <head>          <meta charset="UTF-8">          <meta name="viewport" content="width=device-width, initial-scale=1.0">          <title>Sandbox Preview</title>          <link href="https://cdn.tailwindcss.com" rel="stylesheet">          <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer><\/script>          <style>            body {              font-family: Arial, sans-serif;              margin: 0;              padding: 20px;            }            * {              box-sizing: border-box;            }            .sandbox-container {              display: flex;              justify-content: center;              align-items: center;              height: 100%;            }          </style>        </head>        <body>          <div class="sandbox-container">            ${html}          </div>        </body>        </html>      `;      const iframe = this.$refs.preview;      const doc = iframe.contentDocument || iframe.contentWindow.document;      doc.open();      doc.write(fullContent);      doc.close();    },    copyCode() {      const codeToCopy = this.slotContent;      if (!codeToCopy) {        console.error('No code to copy');        return;      }      const textarea = document.createElement('textarea');      textarea.value = codeToCopy;      document.body.appendChild(textarea);      textarea.select();      document.execCommand('copy');      document.body.removeChild(textarea);    }  },  mounted() {    // Handle slot content    if (this.$slots.default && this.$slots.default.length > 0) {      // Extract text content from slot if available      const slotContentArray = this.$slots.default.map(vnode => vnode.children).flat();      this.slotContent = slotContentArray.join('').trim();      if (this.slotContent) {        this.updatePreview();      } else {        console.error('Slot content is empty');      }    } else {      console.error('No default slot content');    }  }};</script><style scoped>.tab {  transition: background-color 0.3s;}</style>